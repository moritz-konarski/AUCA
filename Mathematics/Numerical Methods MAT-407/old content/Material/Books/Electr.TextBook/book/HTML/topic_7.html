<HTML>
<HEAD>
	<TITLE>Тема 7 - ПОГРЕШНОСТИ ОКРУГЛЕНИЯ ВЕЩЕСТВЕННЫХ ЧИСЕЛ</TITLE>
<!--Всплывающие подсказки-картинки-->
<style type="text/css">
.navtext {
width:150px;
font-size:12pt;
border-width:1px;
border-style:outset;
border-color:black;
layer-background-color:red;
background-color:#E2E5F4;
color:black;
}
</style>
<script language="javascript" src="../script/alttxt.js">
</script>
<!--конец-->

</HEAD>

<LINK REL=STYLESHEET TYPE="text/css" HREF="../css/html.css">

<BODY bgcolor="d4d7e8" background="../image/frame/bg_tp7.jpg"  bgproperties=fixed>
	<P><CENTER><FONT><B>VII. ПОГРЕШНОСТИ ОКРУГЛЕНИЯ ВЕЩЕСТВЕННЫХ ЧИСЕЛ И ИХ ПРЕОБРАЗОВАНИЕ ПОД ВОЗДЕЙСТВИЕМ АРИФМЕТИЧЕСКИХ ОПЕРАЦИЙ</B></FONT></CENTER></P>
	
	<P><FONT>Здесь мы обсудим простейшую математическую модель, которая позволит нам понять как формируются <I>погрешности округления</I> вещественных чисел при их записи в память компьютера. Кроме того, рассмотрим вопрос о том, как трансформируются  эти погрешности под воздействием арифметических операций.</P>
	<P>Условимся считать, что компьютер оперирует только с множеством вещественных чисел {q}, которые могут быть записаны в следующей форме:</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image002.gif" align="middle"></center></td>
			<td><font>(1)</font><td>
			</tr>
	</table>
	<P style="text-align: justify; text-indent:0">где:</P>
	<P><IMG src="../image/topic_7/image004.gif" align="top"> - <I>основание</I> позиционной системы счисления;</P>
	<P><IMG src="../image/topic_7/image006.gif" align="top"> - <I>порядок числа</I> <IMG src="../image/topic_7/image008.gif" align="top"></P>
	<P><IMG src="../image/topic_7/image010.gif" align="middle"> - <I>мантисса</I> числа <IMG src="../image/topic_7/image012.gif" align="middle"></P>
	<p><IMG src="../image/topic_7/image014.gif" align="top"> - <I>базисный набор</I> системы счисления, числа <IMG src="../image/topic_7/image016.gif" align="top"> называются <I>разрядами</I>;</P>
	<P><IMG src="../image/topic_7/image018.gif" align="top"> - <I>разрядность</I> мантиссы;</P>
	<P>s - принимает значения «0» или «1».</P>
	<P style="text-align: justify; text-indent:0">Запись вещественного числа <IMG src="../image/topic_7/image020.gif" align="top"> в виде (1) называют его <I>нормализованным представлением в системе с плавающей запятой (точкой)</i>. Обозначим символом 
	<IMG src="../image/topic_7/image022.gif" align="top"> - множество вещественных чисел, представимых в виде (1). Очевидно, что 
	<IMG src="../image/topic_7/image024.gif" align="top"> - подмножество множества рациональных чисел, кроме того, множество 
	<IMG src="../image/topic_7/image025.gif" align="top"> - симметрично относительно нуля, поэтому в дальнейшем удобно ввести обозначение
	<IMG src="../image/topic_7/image027.gif" align="top"> для положительной компоненты этого множества.</P>
	
	<P>Легко найти минимальный элемент во множестве <IMG src="../image/topic_7/image029.gif" align="top">:</P>
	<CENTER><IMG src="../image/topic_7/image031.gif" align="middle">,</CENTER>
	<P style="text-align: justify; text-indent:0">и максимальный элемент этого множества:</P>
	<CENTER><IMG src="../image/topic_7/image033.gif" align="middle">.</CENTER>
	<P style="text-align: justify; text-indent:0">Нам будет удобнее оперировать с числом</P>
	<CENTER><IMG src="../image/topic_7/image035.gif" align="middle">,</CENTER>
	<P style="text-align: justify; text-indent:0">которое ограничивает множество <IMG src="../image/topic_7/image037.gif" align="top"> сверху. Очевидно, что множество 
	<IMG src="../image/topic_7/image038.gif" align="top">, вообще говоря, не замкнуто относительно арифметических операций  сложения (+), вычитания (-), умножения 
	<IMG src="../image/topic_7/image040.gif" align="top"> и деления (:). Поэтому операции с произвольными вещественными числами в компьютере организуются по следующим принципам: если 
	<IMG src="../image/topic_7/image042.gif" align="top"> и <IMG src="../image/topic_7/image044.gif" align="top">, то х - считается <I>машинным нулем</I>; если 
	<IMG src="../image/topic_7/image046.gif" align="top"> и <IMG src="../image/topic_7/image048.gif" align="top">, то х - считается <I>машинной бесконечностью</i>. Для 
	<IMG src="../image/topic_7/image050.gif" align="top">вводится <I>оператор приближения (округления)</I></P>
	<CENTER><IMG src="../image/topic_7/image052.gif" align="middle">,</CENTER>
	<P style="text-align: justify; text-indent:0">который точке х ставит в соответствие <I>ближайшую к ней точку</I> <IMG src="../image/topic_7/image054.gif" align="top"> <I>из множества</I> Q. Эту операцию обычно называют <I>операцией округления вещественного числа</I> х (floating- плавающий).</P>
	
	<P>Вводятся понятия <I>абсолютной</I>:</P>
	<CENTER><IMG src="../image/topic_7/image056.gif" align="top"></CENTER>
	<P style="text-align: justify; text-indent:0">и <I>относительной</I>:</p>	
	<CENTER><IMG src="../image/topic_7/image058.gif" align="top"></CENTER>
	<P style="text-align: justify; text-indent:0"><I>погрешностей округления</I>. Оценку для величины относительной погрешности округления дает следующее утверждение.</FONT></P>
	
	<P><FONT style="letter-spacing: 20">Теорема</FONT>
	<FONT> . Пусть <IMG src="../image/topic_7/image060.gif" align="top">, тогда</FONT></P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image062.gif" align="middle"></center></td>
			<td><font>(2)</font><td>
			</tr>
	</table>
	
	<P><FONT style="letter-spacing: 20">Доказательство</FONT>
	<FONT>: Не ограничивая общности, можно считать, что 
	<IMG src="../image/topic_7/image064.gif" align="middle">. Очевидно, что 
	<IMG src="../image/topic_7/image066.gif" align="middle">. Множество 
	<IMG src="../image/topic_7/image068.gif" align="middle"> состоит из равномерно распределенных чисел, расстояние между которыми равно 
	<IMG src="../image/topic_7/image070.gif" align="top">. Значит,</P>
	<CENTER><IMG src="../image/topic_7/image072.gif" align="middle">.</P>
	<P style="text-align: justify; text-indent:0">Так как <IMG src="../image/topic_7/image074.gif" align="top">, то и приходим к оценке (2):</P>
	<CENTER><IMG src="../image/topic_7/image076.gif" align="top"> <IMG src="../image/topic_2/square.gif" align="middle"></CENTER>
	
	<p>Компьютерная арифметика использует <I>двоичную систему счисления</I> (<IMG src="../image/topic_7/image078.gif" align="middle"> в представлении 
	<a href="javascript:void(0)" onmouseover="writetxt('<img src=../image/topic_7/image002.gif>')" onmouseout="writetxt(0)">(1)</a>). Общий <I>формат</I> представления вещественных чисел в памяти компьютера изображен на Рис.1. Здесь приведена <I>разрядная сетка</i>, используемая для записи в памяти ЭВМ вещественного числа вида</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image080.gif" align="middle"></center></td>
			<td><font>(3)</font><td>
			</tr>
	</table>
	<BR>
	<CENTER><IMG src="../image/topic_7/image081.gif" align="top"></CENTER>
	
	<P style="text-align: justify; text-indent:0">S - однобитовое поле, содержащее знаковый бит ”s”; P - поле, состоящее из разрядов, которыми кодируется двоичный порядок числа q; M-(t-1) - разрядное поле, содержащее двоичное представление мантиссы, причем в силу 
	<IMG src="../image/topic_7/image085.gif" align="top"> (признак <I>нормализованного</I> числа), записи требуют разряды, начиная со второго. В итоге, для записи числа (3), требуется сетка, состоящая из “k+t” двоичных разрядов. На персональных компьютерах IBM PC и совместимых с ними применяются форматы:</P>
	
	<P><IMG src="../image/topic_7/image087.gif" align="middle"> (однократная точность);</P>
	<P><IMG src="../image/topic_7/image089.gif" align="middle"> (двойная точность).</P>
	<P style="text-align: justify; text-indent:0">Легко подсчитать, что 
	<IMG src="../image/topic_7/image091.gif" align="top">, значит 
	<IMG src="../image/topic_7/image093.gif" align="middle"> в формате  
	<IMG src="../image/topic_7/image095.gif" align="top">, и
	<IMG src="../image/topic_7/image097.gif" align="top"> в формате 
	<IMG src="../image/topic_7/image099.gif" align="top">. Полезно иметь представление о следующих величинах:</P>
	
	<P><IMG src="../image/topic_7/image101.gif" align="top"> машинный ноль: <IMG src="../image/topic_7/image103.gif" align="top">;</P>
	<P style="text-align: justify; text-indent:90">машинная бесконечность:	<IMG src="../image/topic_7/image105.gif" align="top">;</P>
	<P style="text-align: justify; text-indent:90">машинный эпсилон: <IMG src="../image/topic_7/image107.gif" align="top"></P>
	<P><IMG src="../image/topic_7/image109.gif" align="top"> машинный ноль: <IMG src="../image/topic_7/image111.gif" align="top">;</P>
	<P style="text-align: justify; text-indent:90">машинная бесконечность:<IMG src="../image/topic_7/image113.gif" align="top">;</P>
	<P style="text-align: justify; text-indent:90">машинный эпсилон: <IMG src="../image/topic_7/image115.gif" align="top">.</P>
	
	<P>Представляет интерес вопрос о том, <I>как трансформируются погрешности округления вещественных чисел под воздействием арифметических операций</i>. Ясно, что операции умножения и деления чисел не сильно увеличивают относительную погрешность, хотя могут привести к таким явлениям, как <I>переполнение</I> (нарушение неравенства 
	<IMG src="../image/topic_7/image117.gif" align="top">, либо <I>потеря порядка</I> (нарушение неравенства 
	<IMG src="../image/topic_7/image119.gif" align="top">). Вычитание двух близких по величине и достаточно больших чисел может привести к значительному увеличению относительной погрешности и является источником накопления ошибок округления в процессе решения задачи. Исследуем этот феномен. Обозначим символом "<IMG src="../image/topic_7/image121.gif" align="top">" любую из операций "+", или "-". Результат Компьютерной реализации этой операции будет выглядеть следующим образом:</P>
	<CENTER><IMG src="../image/topic_7/image123.gif" align="top"> (<IMG src="../image/topic_7/image125.gif" align="top">).</CENTER>
	
	<P style="text-align: justify; text-indent:0">Пусть <IMG src="../image/topic_7/image127.gif" align="top"> - относительные погрешности округления чисел 
	<IMG src="../image/topic_7/image129.gif" align="middle"> и <IMG src="../image/topic_7/image131.gif" align="middle"> - сответственно, тогда справедливы соотношения:</P>
	<CENTER><IMG src="../image/topic_7/image133.gif" align="middle">,<BR>
	<IMG src="../image/topic_7/image135.gif" align="middle">,<BR>
	<IMG src="../image/topic_7/image137.gif" align="middle">.</CENTER>
	<P style="text-align: justify; text-indent:0">Используя эти соотношения, приходим к относительной погрешности операции “<IMG src="../image/topic_7/image139.gif" align="top">”:</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image141.gif" align="middle">;</center></td>
			<td><font>(4)</font><td>
			</tr>
	</table>
	<P style="text-align: justify; text-indent:0">В случае операции сложения (считаем, что <IMG src="../image/topic_7/image143.gif" align="top">) порядок погрешности (4) не возрастает по сравнению с погрешностями 
	<IMG src="../image/topic_7/image145.gif" align="top">. Действительно, в силу (4) имеем оценку:</P>
	<CENTER><IMG src="../image/topic_7/image147.gif" align="middle">.</CENTER>
	<P style="text-align: justify; text-indent:0">Последнее неравенство в оценке следует из 
	<a href="javascript:void(0)" onmouseover="writetxt('<img src=../image/topic_7/image062.gif>')" onmouseout="writetxt(0)">(2)</a>. В случае операции вычитания величина</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image149.gif" align="middle">,</center></td>
			<td><font>(5)</font><td>
			</tr>
	</table>
	<P style="text-align: justify; text-indent:0">которая возникает в оценке (4), может оказаться достаточно большой, по сравнению с 
	<IMG src="../image/topic_7/image151.gif" align="top">, что приведет к увеличению относительной погрешности <IMG src="../image/topic_7/image153.gif" align="top">. Поясним сказанное на примере.</FONT></P>
	
	<P><FONT style="letter-spacing: 20">Пример </FONT>
	<FONT>1. Предположим, что мы вычисляем наименьший корень уравнения <IMG src="../image/topic_7/image155.gif" align="top">, используя формулу:</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image157.gif" align="middle">.</center></td>
			<td><font>(6)</font><td>
			</tr>
	</table>
	<P style="text-align: justify; text-indent:0">Предположим, для определенности, что мы оперируем с числами из множества Q с <IMG src="../image/topic_7/image159.gif" align="top"> величины <IMG src="../image/topic_7/image161.gif" align="top"> в данном случае не имеет значения. Иными словами, вычисления производятся в десятичной системе счисления, причем в мантиссе числа  удерживается 4 разряда. Точным при этом будем считать результат, полученный при вычислении с достаточно большим числом разрядов в мантиссе. Обозначим: 
	<IMG src="../image/topic_7/image163.gif" align="top">, тогда:</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image165.gif" align="middle"></center></td>
			<td><font>(7)</font><td>
			</tr>
	</table>
	<P style="text-align: justify; text-indent:0">Далее:</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image167.gif" align="middle"></center></td>
			<td><font>(8)</font><td>
			</tr>
	</table>
	<P style="text-align: justify; text-indent:0">Причем:</P>
	<CENTER><IMG src="../image/topic_7/image169.gif" align="middle">.</CENTER>
	<P style="text-align: justify; text-indent:0">Сравнивая величины (7) и (8), легко видеть, что относительная погрешность, вычисленная по формуле 
	<a href="javascript:void(0)" onmouseover="writetxt('<img src=../image/topic_7/image141.gif>')" onmouseout="writetxt(0)">(4)</a> достаточно велика:</P>
	<CENTER><IMG src="../image/topic_7/image171.gif" align="middle">,</CENTER>
	<P style="text-align: justify; text-indent:0">и составляет около 100% от точного результата. В данном случае величина 
	<a href="javascript:void(0)" onmouseover="writetxt('<img src=../image/topic_7/image149.gif>')" onmouseout="writetxt(0)">(5)</a> будет иметь вид:</P>
	<CENTER><IMG src="../image/topic_7/image173.gif" align="middle">,</CENTER>
	<P style="text-align: justify; text-indent:0">и оказывается достаточно большой из-за малости <IMG src="../image/topic_7/image175.gif" align="top"> и достаточно большого значения <IMG src="../image/topic_7/image177.gif" align="top"> (см.<a href="javascript:void(0)" onmouseover="writetxt('<img src=../image/topic_7/image165.gif>')" onmouseout="writetxt(0)">(7)</a>).</P>
	<P>Избежать больших погрешностей при вычислении величины 
	<a href="javascript:void(0)" onmouseover="writetxt('<img src=../image/topic_7/image157.gif>')" onmouseout="writetxt(0)">(6)</a> можно “заменив”  операцию вычитания операцией сложения:</P>
	<table>
			<tr>
			<td width=100%><center><IMG src="../image/topic_7/image179.gif" align="middle">.</center></td>
			<td><font>(9)</font><td>
			</tr>
	</table>
	<P style="text-align: justify; text-indent:0">Теперь, используя формулу (9), получим:</P>	
	<CENTER><IMG src="../image/topic_7/image181.gif" align="top"></CENTER>
	<P style="text-align: justify; text-indent:0">что согласуется с 
	<a href="javascript:void(0)" onmouseover="writetxt('<img src=../image/topic_7/image165.gif>')" onmouseout="writetxt(0)">(7)</a> достаточно хорошо <IMG src="../image/topic_2/square.gif" align="middle"></P>
	<BR>
	
	<!--<CENTER><TABLE border="0">
	<TR>
	<TD width="100%" align="right" valign="middle"><a href="../NUM_METH(WIN)/NM_IterativeMethods.exe"><IMG border="0" src="../image/buttons/test_tp7.jpg"></A></TD>
	</TR>
	</TABLE></CENTER>--><br>

	<div id="navtxt" class="navtext" style="position:absolute; top:-100px; left:0px; visibility:hidden">
	</div>
</BODY>
</HTML>